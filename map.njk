---
layout: layouts/telesthesia-base.njk
---

    <!-- Create a div element to hold the map -->
    <div id="mapcontainer">
      <div id="map"></div>
    </div>

    <div id="data-container">

     <div id="console" class="panel">
        <div id="console__text"><span>Ready for input.</span><span>Select a location to search.</span></div>
        <div id="console__image"></div>
    </div>

    </div>

    <div id="log"></div>



  <ul class="Layers">
    <li><button data-layer="viewings">Viewings</button></li>
    <li><button data-layer="stats">Stats</button></li>
  </ul>
  <div class="Layer" data-layer="viewings">
    <h2>Viewings Layer</h2>
    <p>This is the Viewings layer content.</p>
  </div>
  <div class="Layer" data-layer="stats">
    <h2>Stats Layer</h2>
    <p>This is the Stats layer content.</p>
  </div>



    <!-- Include the Leaflet JavaScript file -->
<script src='https://api.mapbox.com/mapbox-gl-js/v1.10.1/mapbox-gl.js'></script>
<script src='https://telesthesia-app.netlify.app/js/telesthesia.js'></script>
    <!-- Initialize the map -->
    <script>
const layers = document.querySelectorAll('.Layer');
const buttons = document.querySelectorAll('.Layers button');

function toggleLayer(layer) {
  layer.classList.toggle('Layer-visible');
}

function toggleButton(button) {
  button.classList.toggle('active');
}

function deactivateOthers(currentButton) {
  buttons.forEach(function(button) {
    if (button !== currentButton && button.classList.contains('active')) {
      const layerId = button.getAttribute('data-layer');
      const layer = document.querySelector(`.Layer[data-layer="${layerId}"]`);
      toggleLayer(layer);
      toggleButton(button);
    }
  });
}

buttons.forEach(function(button) {
  button.addEventListener('click', function() {
    const layerId = this.getAttribute('data-layer');
    const layer = document.querySelector(`.Layer[data-layer="${layerId}"]`);
    const isActive = layer.classList.contains('Layer-visible');
    deactivateOthers(this);
    toggleLayer(layer);
    toggleButton(this);
  });
});

      </script>