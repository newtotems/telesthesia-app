---
layout: layouts/telesthesia-base.njk
---

<ul class="Layers">
  <li><button data-layer="viewings" class="layer-button layer-button--viewings">viewings</button></li>
  <li><button data-layer="stats" class="layer-button layer-button--stats">stats</button></li>
</ul>

    <!-- Create a div element to hold the map -->
    <div id="mapcontainer">
      <div id="map"></div>
    </div>

    <div id="data-container">

     <div id="console" class="panel">
        <div id="console__text"><span>Ready for input.</span><span>Select a location to search.</span></div>
        <div id="console__image"></div>
    </div>

    </div>

    <div id="log"></div>

    <div id="viewingscontainer">
      <div>
        Viewings
      </div>
    </div>

        <div id="statscontainer">
          <div>
            stats
          </div>
        </div>

    <!-- Include the Leaflet JavaScript file -->
<script src='https://api.mapbox.com/mapbox-gl-js/v1.10.1/mapbox-gl.js'></script>
<script src='https://telesthesia-app.netlify.app/js/telesthesia.js'></script>
    <!-- Initialize the map -->
    <script>
 const buttons = document.querySelectorAll('.Layers button');

buttons.forEach(button => {
  button.addEventListener('click', () => {
    const layer = button.getAttribute('data-layer');
    const body = document.querySelector('body');
    
    // remove any other [data-layer value]-visible classes from the body
    const visibleClasses = Array.from(body.classList).filter(c => c.endsWith('-visible'));
    visibleClasses.forEach(c => body.classList.remove(c));
    
    // add the [data-layer value]-visible class for the clicked button
    body.classList.add(`${layer}-visible`);
  });
});

      </script>