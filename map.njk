---
layout: layouts/telesthesia-base.njk
---

  <ul class="Layers">
    <li><button id="btnMap" class="active">Map</button></li>
    <li><button id="btnViewings">Viewings</button></li>
    <li><button id="btnStats">Stats</button></li>
  </ul>

    <!-- Create a div element to hold the map -->
    <div id="mapcontainer">
      <div id="map"></div>
    </div>

    <div id="data-container">

     <div id="console" class="panel">
        <div id="console__text"><span>Ready for input.</span><span>Select a location to search.</span></div>
        <div id="console__image"></div>
    </div>

    </div>

    <div id="log"></div>

  <div class="Layer" data-layer="viewings" id="viewings" style="display: none;">
    <h2>Viewings Layer</h2>
    <p>This is the Viewings layer content.</p>
  </div>

  <div class="Layer" data-layer="stats" id="stats" style="display: none;">
    <h2>Stats Layer</h2>
    <p>This is the Stats layer content.</p>
  </div>



    <!-- Include the Leaflet JavaScript file -->
<script src='https://api.mapbox.com/mapbox-gl-js/v1.10.1/mapbox-gl.js'></script>
<script src='https://telesthesia-app.netlify.app/js/telesthesia.js'></script>
    <!-- Initialize the map -->
    <script>
const btnViewings = document.getElementById('btnViewings');
const btnStats = document.getElementById('btnStats');
const btnMap = document.getElementById('btnMap');

btnViewings.addEventListener('click', () => {
  document.getElementById('viewings').style.display = 'block';
  document.getElementById('stats').style.display = 'none';

  // add active class to btnViewings and remove from others
  btnViewings.classList.add('active');
  btnStats.classList.remove('active');
  btnMap.classList.remove('active');
});

btnStats.addEventListener('click', () => {
  document.getElementById('stats').style.display = 'block';
  document.getElementById('viewings').style.display = 'none';

  // add active class to btnStats and remove from others
  btnStats.classList.add('active');
  btnViewings.classList.remove('active');
  btnMap.classList.remove('active');
});

btnMap.addEventListener('click', () => {
  // toggle display of viewings and stats
  const viewings = document.getElementById('viewings');
  const stats = document.getElementById('stats');
  viewings.style.display = viewings.style.display === 'none' ? 'block' : 'none';
  stats.style.display = stats.style.display === 'none' ? 'block' : 'none';

  // remove active class from all buttons
  btnViewings.classList.remove('active');
  btnStats.classList.remove('active');
  btnMap.classList.remove('active');

  // add active class to btnMap if both viewings and stats are hidden, otherwise add to the appropriate button
  if (viewings.style.display === 'none' && stats.style.display === 'none') {
    btnMap.classList.add('active');
  } else if (viewings.style.display === 'block') {
    btnViewings.classList.add('active');
  } else if (stats.style.display === 'block') {
    btnStats.classList.add('active');
  }
});
      </script>